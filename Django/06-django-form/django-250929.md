# Django
## Form 
### Django Form 
### HTML Formì˜ í•œê³„
- ì§€ê¸ˆê¹Œì§€ ì‚¬ìš©ìë¡œë¶€í„° ë°ì´í„°ë¥¼ ì œì¶œ ë°›ê¸° ìœ„í•´ í™œìš©í•œ ë°©ë²•
- ê·¸ëŸ¬ë‚˜ ë¹„ì •ìƒì  í˜¹ì€ ì•…ì˜ì ì¸ ìš”ì²­ì„ í•„í„°ë§ í•  ìˆ˜ ì—†ìŒ

=> ë”°ë¼ì„œ ìœ íš¨í•œ ë°ì´í„°ì¸ì§€ì— ëŒ€í•œ í™•ì¸ì´ í•„ìš”í•¨

### ìœ íš¨ì„± ê²€ì‚¬
- ìˆ˜ì§‘í•œ ë°ì´í„°ê°€ ì •í™•í•˜ê³  ìœ íš¨í•œì§€ í™•ì¸í•˜ëŠ” ê³¼ì •
- Django Formì˜ ìœ íš¨ì„± ê²€ì‚¬ëŠ” ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë°ì´í„°ê°€ ì˜¬ë°”ë¥¸ í˜•ì‹ì¸ì§€ ìë™ìœ¼ë¡œ ì ê²€í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µ
- ì˜ˆë¥¼ ë“¤ì–´, í•„ìˆ˜ ì…ë ¥ ê°’ì´ ë¹„ì–´ ìˆê±°ë‚˜ ì˜ëª»ëœ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•˜ë©´ ì˜¤ë¥˜ë¥¼ ì•Œë ¤ì¤Œ
- ì´ ê³¼ì •ì„ í†µí•´ ì„œë²„ì— ì˜ëª»ëœ ë°ì´í„°ê°€ ì €ì¥ë˜ì§€ ì•Šë„ë¡ ë³´í˜¸í•  ìˆ˜ ìˆìŒ

### ìœ íš¨ì„± ê²€ì‚¬ êµ¬í˜„ì˜ ì–´ë ¤ì›€
- ìœ íš¨ì„± ê²€ì‚¬ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” ì…ë ¥ ê°’, í˜•ì‹, ì¤‘ë³µ, ë³´ì•ˆ ë“± ë§ì€ ê²ƒë“¤ì„ ê³ ë ¤í•´ì•¼ í•¨
- ì´ëŸ° ê³¼ì •ê³¼ ê¸°ëŠ¥ì„ ì§ì ‘ ê°œë°œí•˜ëŠ” ê²ƒì´ ì•„ë‹Œ Djangoê°€ ì œê³µí•˜ëŠ” Formì„ ì‚¬ìš©

---

## Form Class
### Django Formì˜ ê¸°ëŠ¥
- ì‚¬ìš©ì ì…ë ¥ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³ , ì²˜ë¦¬ ë° ìœ íš¨ì…© ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ë„êµ¬
* ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ë‹¨ìˆœí™”í•˜ê³  ìë™í™” í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µ
* ì‚¬ìš©ìê°€ ì˜ëª» ì…ë ¥í•œ ë°ì´í„°ëŠ” ìë™ìœ¼ë¡œ ì˜¤ë¥˜ë¡œ ì²˜ë¦¬ë˜ì–´ ì•ˆì •ì„±ì„ ë†’ì„
* ê°œë°œìëŠ” ì´ë¥¼ í†µí•´ ë¹ ë¥´ê³  ì¼ê´€ëœ ì…ë ¥ ê²€ì¦ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŒ

### Form Class ì •ì˜
- Form Classë¥¼ ìƒì†ë°›ì•„ ë‚´ìš©ê³¼ ì œëª©ì— ëŒ€í•œ ì‚¬ìš©ì ì…ë ¥ì„ ë°›ëŠ” `ArticleForm`ì„ ì •ì˜í•˜ëŠ” ë°©ë²•

```python
# articles/forms.py

from django import forms

class ArticleForm(forms.Form):
    title = forms.CharField(max_length=10)
    content = forms.CharField()
```

### From Classë¥¼ ì ìš©í•œ new logic(1)
- view í•¨ìˆ˜ new ë³€ê²½

```python
# articles/views.py

from .forms import ArticleForm

def new(request):
  form = ArticleForm()
  context = {
    'form' : form 
  }

  return render(request, 'articles/new.html', context)
```

### From Classë¥¼ ì ìš©í•œ new logic(2)
- new í˜ì´ì§€ì—ì„œ form ì¸ìŠ¤í„´ìŠ¤ ì¶œë ¥

```html
<!-- articles/new.html -->

<h1>New</h1>
<form action="{% url 'articles:create' %}" method="POST">
  {% csrf token %}
  {{ form  }}
  <input type="submit">
</form>
```

---

# ğŸ“Œ Django Form Field í´ë˜ìŠ¤ ì •ë¦¬

## 1ï¸âƒ£ í…ìŠ¤íŠ¸ ì…ë ¥ ê³„ì—´

| í•„ë“œ           | ì„¤ëª…                              | ê¸°ë³¸ ìœ„ì ¯        |
| ------------ | ------------------------------- | ------------ |
| `CharField`  | ì§§ì€ ë¬¸ìì—´ ì…ë ¥ (ê¸°ë³¸)                  | `TextInput`  |
| `EmailField` | ì´ë©”ì¼ í˜•ì‹ ê²€ì¦                       | `EmailInput` |
| `RegexField` | ì •ê·œì‹ íŒ¨í„´ê³¼ ë§¤ì¹­ë˜ëŠ” ë¬¸ìì—´ë§Œ í—ˆìš©            | `TextInput`  |
| `SlugField`  | ìŠ¬ëŸ¬ê·¸(`a-z`, `0-9`, `_`, `-`)ë§Œ í—ˆìš© | `TextInput`  |
| `URLField`   | URL í˜•ì‹ ê²€ì¦                       | `URLInput`   |
| `UUIDField`  | UUID í˜•ì‹ ë¬¸ìì—´ ê²€ì¦                  | `TextInput`  |

---

## 2ï¸âƒ£ ìˆ«ì ì…ë ¥ ê³„ì—´

| í•„ë“œ             | ì„¤ëª…        | ê¸°ë³¸ ìœ„ì ¯         |
| -------------- | --------- | ------------- |
| `IntegerField` | ì •ìˆ˜ ì…ë ¥     | `NumberInput` |
| `FloatField`   | ë¶€ë™ì†Œìˆ˜ ì…ë ¥   | `NumberInput` |
| `DecimalField` | ê³ ì • ì†Œìˆ˜ì  ì…ë ¥ | `NumberInput` |

---

## 3ï¸âƒ£ ë¶ˆë¦¬ì–¸ / ì„ íƒ ê³„ì—´

| í•„ë“œ                         | ì„¤ëª…                                                               | ê¸°ë³¸ ìœ„ì ¯            |
| -------------------------- | ---------------------------------------------------------------- | ---------------- |
| `BooleanField`             | True/False ì…ë ¥                                                    | `CheckboxInput`  |
| `NullBooleanField`         | True/False/Unknown ì…ë ¥ (deprecated, ëŒ€ì‹  `BooleanField(null=True)`) | `Select`         |
| `ChoiceField`              | ì§€ì •ëœ ì„ íƒì§€ ì¤‘ í•˜ë‚˜                                                     | `Select`         |
| `MultipleChoiceField`      | ì—¬ëŸ¬ ê°œ ì„ íƒ ê°€ëŠ¥                                                       | `SelectMultiple` |
| `TypedChoiceField`         | ChoiceField + í˜• ë³€í™˜                                               | `Select`         |
| `TypedMultipleChoiceField` | MultipleChoiceField + í˜• ë³€í™˜                                       | `SelectMultiple` |

---

## 4ï¸âƒ£ ë‚ ì§œ / ì‹œê°„ ê³„ì—´

| í•„ë“œ              | ì„¤ëª…                         | ê¸°ë³¸ ìœ„ì ¯           |
| --------------- | -------------------------- | --------------- |
| `DateField`     | ë‚ ì§œ (YYYY-MM-DD)            | `DateInput`     |
| `TimeField`     | ì‹œê°„ (HH:MM)                 | `TimeInput`     |
| `DateTimeField` | ë‚ ì§œ + ì‹œê°„                    | `DateTimeInput` |
| `DurationField` | ì‹œê°„ ê°„ê²© (Python `timedelta`) | `TextInput`     |

---

## 5ï¸âƒ£ íŒŒì¼ ì—…ë¡œë“œ ê³„ì—´

| í•„ë“œ           | ì„¤ëª…                     | ê¸°ë³¸ ìœ„ì ¯                |
| ------------ | ---------------------- | -------------------- |
| `FileField`  | ì¼ë°˜ íŒŒì¼ ì—…ë¡œë“œ              | `ClearableFileInput` |
| `ImageField` | ì´ë¯¸ì§€ íŒŒì¼ ì—…ë¡œë“œ (Pillow í•„ìš”) | `ClearableFileInput` |

---

## 6ï¸âƒ£ ê¸°íƒ€ íŠ¹ìˆ˜ í•„ë“œ

| í•„ë“œ                      | ì„¤ëª…                       | ê¸°ë³¸ ìœ„ì ¯         |
| ----------------------- | ------------------------ | ------------- |
| `GenericIPAddressField` | IPv4 / IPv6 ì£¼ì†Œ           | `TextInput`   |
| `JSONField`             | JSON êµ¬ì¡° ê²€ì¦ (Django 3.1+) | `Textarea`    |
| `ComboField`            | ì—¬ëŸ¬ í•„ë“œ ê²€ì¦ ì¡°í•©              | ì§€ì •ëœ í•˜ìœ„ í•„ë“œ ìœ„ì ¯  |
| `MultiValueField`       | ì—¬ëŸ¬ ì…ë ¥ê°’ì„ í•˜ë‚˜ë¡œ ë¬¶ìŒ           | `MultiWidget` |

---

# ğŸ“Œ ìš”ì•½

* **ë¬¸ìì—´** â†’ `CharField`, `EmailField`, `URLField` â€¦
* **ìˆ«ì** â†’ `IntegerField`, `FloatField`, `DecimalField`
* **ì„ íƒ** â†’ `ChoiceField`, `MultipleChoiceField`, `BooleanField`
* **ë‚ ì§œ/ì‹œê°„** â†’ `DateField`, `DateTimeField`, `TimeField`
* **íŒŒì¼** â†’ `FileField`, `ImageField`
* **íŠ¹ìˆ˜** â†’ `UUIDField`, `IPAddressField`, `JSONField` ë“±


---


## Widgets
- HTML 'input' elementì˜ í‘œí˜„ì„ ë‹´ë‹¹
- Django Formì˜ widgetsì€ ê° í•„ë“œê°€ HTMLì—ì„œ ì–´ë–»ê²Œ ë Œë”ë§ ë  ì§€ë¥¼ ê²°ì •
- ì˜ˆë¥¼ ë“¤ì–´, TextInput, Select, CheckboxInput ë“± ë‹¤ì–‘í•œ ìœ„ì ¯ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•´ ì…ë ¥ ë°©ì‹ê³¼ ì†ì„±ì„ ì„¸ë¶€ ì¡°ì •í•  ìˆ˜ ìˆìŒ

### Widget ì ìš©
- Widgetì€ ë‹¨ìˆœíˆ input ìš”ì†Œì˜ ì†ì„± ë° ì¶œë ¥ë˜ëŠ” ë¶€ë¶„ì„ ë³€ê²½í•˜ëŠ” ê²ƒ 

```python
# articles/forms.py

from django import forms

class ArticleForm(forms.form):
  title = forms.CharField(max_length=10)
  content = forms.CharField(widget=forms.Textarea)
```

---

# ğŸ“Œ Django Form ìœ„ì ¯ ì •ë¦¬

## 1. í…ìŠ¤íŠ¸ ì…ë ¥ ê³„ì—´

| ìœ„ì ¯                    | ì„¤ëª…                | HTML íƒœê·¸                   | ì˜ˆì‹œ                                                         |
| --------------------- | ----------------- | ------------------------- | ---------------------------------------------------------- |
| `forms.TextInput`     | í•œ ì¤„ í…ìŠ¤íŠ¸ ì…ë ¥        | `<input type="text">`     | `forms.CharField(widget=forms.TextInput())`                |
| `forms.PasswordInput` | ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ (**** ì²˜ë¦¬) | `<input type="password">` | `forms.CharField(widget=forms.PasswordInput())`            |
| `forms.EmailInput`    | ì´ë©”ì¼ ì…ë ¥            | `<input type="email">`    | `forms.EmailField(widget=forms.EmailInput())`              |
| `forms.URLInput`      | URL ì…ë ¥            | `<input type="url">`      | `forms.URLField(widget=forms.URLInput())`                  |
| `forms.NumberInput`   | ìˆ«ì ì…ë ¥             | `<input type="number">`   | `forms.IntegerField(widget=forms.NumberInput())`           |
| `forms.Textarea`      | ì—¬ëŸ¬ ì¤„ í…ìŠ¤íŠ¸          | `<textarea>`              | `forms.CharField(widget=forms.Textarea(attrs={'rows':5}))` |

---

## 2. ì„ íƒ ê³„ì—´

| ìœ„ì ¯                             | ì„¤ëª…         | HTML íƒœê·¸                   | ì˜ˆì‹œ                                                                 |
| ------------------------------ | ---------- | ------------------------- | ------------------------------------------------------------------ |
| `forms.Select`                 | ë‹¨ì¼ ì„ íƒ ë“œë¡­ë‹¤ìš´ | `<select>`                | `forms.ChoiceField(widget=forms.Select(), choices=...)`            |
| `forms.SelectMultiple`         | ë‹¤ì¤‘ ì„ íƒ ë“œë¡­ë‹¤ìš´ | `<select multiple>`       | `forms.MultipleChoiceField(widget=forms.SelectMultiple())`         |
| `forms.RadioSelect`            | ë¼ë””ì˜¤ ë²„íŠ¼     | `<input type="radio">`    | `forms.ChoiceField(widget=forms.RadioSelect(), choices=...)`       |
| `forms.CheckboxSelectMultiple` | ì²´í¬ë°•ìŠ¤ ì—¬ëŸ¬ ê°œ  | `<input type="checkbox">` | `forms.MultipleChoiceField(widget=forms.CheckboxSelectMultiple())` |

---

## 3. ë¶ˆë¦¬ì–¸/ì²´í¬ ê³„ì—´

| ìœ„ì ¯                    | ì„¤ëª…          | HTML íƒœê·¸                   | ì˜ˆì‹œ                                                 |
| --------------------- | ----------- | ------------------------- | -------------------------------------------------- |
| `forms.CheckboxInput` | ì²´í¬ë°•ìŠ¤ (ì°¸/ê±°ì§“) | `<input type="checkbox">` | `forms.BooleanField(widget=forms.CheckboxInput())` |

---

## 4. ë‚ ì§œ/ì‹œê°„ ê³„ì—´

| ìœ„ì ¯                    | ì„¤ëª…      | HTML íƒœê·¸                         | ì˜ˆì‹œ                                                                                 |
| --------------------- | ------- | ------------------------------- | ---------------------------------------------------------------------------------- |
| `forms.DateInput`     | ë‚ ì§œ ì„ íƒ   | `<input type="date">`           | `forms.DateField(widget=forms.DateInput(attrs={'type':'date'}))`                   |
| `forms.TimeInput`     | ì‹œê°„ ì„ íƒ   | `<input type="time">`           | `forms.TimeField(widget=forms.TimeInput(attrs={'type':'time'}))`                   |
| `forms.DateTimeInput` | ë‚ ì§œ + ì‹œê°„ | `<input type="datetime-local">` | `forms.DateTimeField(widget=forms.DateTimeInput(attrs={'type':'datetime-local'}))` |

---

## 5. íŒŒì¼ ì—…ë¡œë“œ

| ìœ„ì ¯                         | ì„¤ëª…             | HTML íƒœê·¸                         | ì˜ˆì‹œ                                                    |
| -------------------------- | -------------- | ------------------------------- | ----------------------------------------------------- |
| `forms.FileInput`          | íŒŒì¼ ì—…ë¡œë“œ         | `<input type="file">`           | `forms.FileField(widget=forms.FileInput())`           |
| `forms.ClearableFileInput` | ê¸°ì¡´ íŒŒì¼ ì‚­ì œ ì˜µì…˜ í¬í•¨ | `<input type="file"> + ì‚­ì œ ì²´í¬ë°•ìŠ¤` | `forms.ImageField(widget=forms.ClearableFileInput())` |

---

# ğŸ“Œ ìœ„ì ¯ ì†ì„±(attrs) ì˜ˆì‹œ

ìœ„ì ¯ì—ëŠ” `attrs` ë”•ì…”ë„ˆë¦¬ë¡œ HTML ì†ì„±ì„ ì¶”ê°€í•  ìˆ˜ ìˆì–´ìš”.

```python
title = forms.CharField(
    widget=forms.TextInput(
        attrs={
            'class': 'form-control',     # Bootstrap ìŠ¤íƒ€ì¼
            'placeholder': 'ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”',
            'maxlength': '50'
        }
    )
)
```

---

## Django ModelForm
### Form vs ModelForm 
* Form
: ì‚¬ìš©ì ì…ë ¥ ë°ì´í„°ë¥¼ DBì— ì €ì¥í•˜ì§€ ì•Šì„ ë•Œ(ex. ê²€ìƒ‰, ë¡œê·¸ì¸)

* ModelForm
: ì‚¬ìš©ì ì…ë ¥ ë°ì´í„°ë¥¼ DBì— ì €ì¥í•´ì•¼ í•  ë•Œ(ex. ê²Œì‹œê¸€ ì‘ì„±, íšŒì›ê°€ì…)

### ModelForm ê¸°ëŠ¥
- Modelê³¼ ì—°ê²°ëœ Formì„ ìë™ìœ¼ë¡œ ìƒì„±í•´ì£¼ëŠ” ê¸°ëŠ¥ì„ ì œê³µ
- ModelFormì€ Form í´ë˜ìŠ¤ì™€ Model í´ë˜ìŠ¤ë¥¼ ê²°í•©í•œ í˜•íƒœë¡œ, ëª¨ë¸ í•„ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì…ë ¥ í¼ì„ ìë™ ìƒì„±í•´ì¤Œ
- ë°ì´í„° ìˆ˜ì§‘ê³¼ ì €ì¥ ê³¼ì •ì„ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤Œ

### ModelForm Class ì •ì˜ 
- ê¸°ì¡´ ArticleForm í´ë˜ìŠ¤ ìˆ˜ì •

```python
# articles/forms.py

from django import forms
from .models import Article

class ArticleForm(forms.ModelForm):
  class Meta:
    model = Article
    fields = '__all__'
```

--- 

## Meta class 
- ModelForm ì •ë³´ë¥¼ ì‘ì„±í•˜ëŠ” ê³³
- Meta classëŠ” ModelForm ë‚´ë¶€ì—ì„œ ì–´ë–¤ ëª¨ë¸ê³¼ ì—°ê²°í• ì§€, ì–´ë–¤ í•„ë“œë¥¼ ì‚¬ìš©í• ì§€ ë“±ì„ ì •ì˜í•˜ëŠ” ì„¤ì • ê³µê°„
- í¼ì˜ ë™ì‘ ë°©ì‹ì„ ì œì–´í•˜ëŠ” í•µì‹¬ ì—­í• ì„ í•¨

### 'fields' ë° 'exclude' ì†ì„±
- exclude ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ì—ì„œ í¬í•¨ë˜ì§€ ì•Šë„ë¡ í•„ë“œë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŒ

```python 
# articles/forms.py

class ArticleForm(forms.ModelForm):
  class Meta:
    model = Article
    fields = ('title',) # filedsì— ìˆëŠ” ìš”ì†Œë§Œ ì‚¬ìš©í•˜ê²Œ ë¨
```

```python 
# articles/forms.py

class ArticleForm(forms.ModelForm):
  class Meta:
    model = Article 
    exculde = ('title',) # excludeì— ìˆëŠ” ìš”ì†Œë¥¼ ì œê±°í•¨ 
```

### Meta class ì£¼ì˜ì‚¬í•­
- Djangoì—ì„œ ModelFormì— ëŒ€í•œ ì¶”ê°€ ì •ë³´ë‚˜ ì†ì„±ì„ ì‘ì„±í•˜ëŠ” í´ë˜ìŠ¤ êµ¬ì¡°ë¥¼ Meta í´ë˜ìŠ¤ë¡œ ì‘ì„± í–ˆì„ ë¿ì´ë©°, íŒŒì´ì„ ì˜ inner classì™€ ê°™ì€ ë¬¸ë²•ì ì¸ ê´€ì ìœ¼ë¡œ ì ‘ê·¼í•˜ì§€ ë§ ê²ƒ 

---

## ModelForm ì ìš©
### MdoelFormì„ ì ìš©í•œ create ë¡œì§ 

```python
# articles/views.py

from .forms import ArticleForm

def create(request):
    form = ArticleForm(request.POST)
    if form.is_valid():
        article = form.save()
        return redirect('articles:detail', article.pk)
    context = {
        'form': form,
    }
    return render(request, 'articles/new.html', context)
```

### is_vaild() í™œìš©
- ì—¬ëŸ¬ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ì‹¤í–‰í•˜ê³ , ë°ì´í„°ê°€ ìœ íš¨í•œì§€ ì—¬ë¶€ë¥¼ Booleanìœ¼ë¡œ ë°˜í™˜


### ê³µë°± ë°ì´í„°ê°€ ìœ íš¨í•˜ì§€ ì•Šì€ ì´ìœ ì™€ ì—ëŸ¬ë©”ì‹œì§€ê°€ ì¶œë ¥ë˜ëŠ” ê³¼ì •
- ë³„ë„ë¡œ ëª…ì‹œí•˜ì§€ ì•Šì•˜ì§€ë§Œ ëª¨ë¸ í•„ë“œì—ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë¹ˆ ê°’ì€ í—ˆìš©í•˜ì§€ ì•ŠëŠ” ì œì•½ì¡°ê±´ì´ ì„¤ì •ë˜ì–´ ìˆìŒ
- ë¹ˆ ê°’ì€ `is_valid()`ì— ì˜í•´ `False`ë¡œ í‰ê°€ë˜ê³   
  `form` ê°ì²´ì—ëŠ” ê·¸ì— ë§ëŠ” ì—ëŸ¬ ë©”ì‹œì§€ê°€ í¬í•¨ë˜ì–´ ë‹¤ìŒ ì½”ë“œë¡œ ì§„í–‰ë¨


### models.py

```python
# articles/models.py
class Article(models.Model):
    title = models.CharField(max_length=10)
    content = models.TextField()
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
```


### views.py

```python
# articles/views.py
def create(request):
    form = ArticleForm(request.POST)
    if form.is_valid():
        article = form.save()
        return redirect('articles:detail', article.pk)
    context = {
        'form': form,
    }
    return render(request, 'articles/new.html', context)
```


### ModelFormì„ ì ìš©í•œ edit ë¡œì§

### views.py

```python
# articles/views.py
def edit(request, pk):
    article = Article.objects.get(pk=pk)
    form = ArticleForm(instance=article)
    context = {
        'article': article,
        'form': form,
    }
    return render(request, 'articles/edit.html', context)
```

### edit.html

```html
<!-- articles/edit.html -->
<h1>EDIT</h1>
<form action="{% url 'articles:update' article.pk %}" method="POST">
  {% csrf_token %}
  {{ form }}
  <input type="submit">
</form>
```

### ModelFormì„ ì ìš©í•œ update ë¡œì§

### ğŸ“Œ views.py

```python
# articles/views.py
def update(request, pk):
    article = Article.objects.get(pk=pk)
    form = ArticleForm(request.POST, instance=article)
    if form.is_valid():
        form.save()
        return redirect('articles:detail', article.pk)
    context = {
        'article': article,
        'form': form,
    }
    return render(request, 'articles/edit.html', context)
```

---

## save ë©”ì„œë“œ
### save()
- ë°ì´í„°ë² ì´ìŠ¤ ê°ì²´ë¥¼ ë§Œë“¤ê³  ì €ì¥í•˜ëŠ” ModelFormì˜ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ
- í¼ ë°ì´í„°ê°€ ìœ íš¨í•œ ê²½ìš°, save() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì €ì¥ë¨
- instance ì¸ìë¥¼ í†µí•´ ìƒˆ ê°ì²´ ìƒì„±ê³¼ ê¸°ì¡´ ê°ì²´ ìˆ˜ì •ë„ êµ¬ë¶„í•  ìˆ˜ ìˆìŒ
- ì´ ê³¼ì •ì„ í†µí•´ ì½”ë“œ ì—†ì´ ì†ì‰½ê²Œ DB ì—°ë™ì´ ê°€ëŠ¥í•¨

### save() ë©”ì„œë“œê°€ ìƒì„±ê³¼ ìˆ˜ì •ì„ êµ¬ë¶„í•˜ëŠ” ë²•
- í‚¤ì›Œë“œ ì¸ì instance ì—¬ë¶€ë¥¼ í†µí•´ ìƒì„±í•  ì§€, ìˆ˜ì •í•  ì§€ë¥¼ ê²°ì •

```python 
# CREATE
form = ArticleForm(request.POST)
form.save()
```

```python 
form = ArticleForm(request.POST, instance=article)
form.save()
```

### Django Form ì •ë¦¬
- ì‚¬ìš©ìë¡œë¶€í„° ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ê°•ë ¥í•˜ê³  ìœ ì—°í•œ ë„êµ¬
- HTML formì˜ ìƒì„±, ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ ë° ì²˜ë¦¬ë¥¼ ì‰½ê²Œ í•  ìˆ˜ ìˆë„ë¡ ë„ì›€

---

## HTTP ìš”ì²­ ë‹¤ë£¨ê¸°
### View í•¨ìˆ˜ êµ¬ì¡° ë³€í™”
### new & create view í•¨ìˆ˜ê°„ ê³µí†µì ê³¼ ì°¨ì´ì 
* ê³µí†µì 
`" ë°ì´í„° ìƒì„±ì„ êµ¬í˜„í•˜ê¸° ìœ„í•¨ "`

* ì°¨ì´ì 
`" newëŠ” GET method ìš”ì²­ë§Œì„, createëŠ” POST method ìš”ì²­ë§Œì„ ì²˜ë¦¬ "`

### view í•¨ìˆ˜ êµ¬ì¡°í™”ì˜ ëª©ì 
=> HTTP request method ì°¨ì´ì ì„ í™œìš©í•´ ë™ì¼í•œ ëª©ì ì„ ê°€ì§€ëŠ” 2ê°œì˜ view í•¨ìˆ˜ë¥¼ í•˜ë‚˜ë¡œ êµ¬ì¡°í™”

---

### new & create í•¨ìˆ˜ ê²°í•©

### ê¸°ì¡´ ì½”ë“œ

```python
def new(request):
    form = ArticleForm()
    context = {
        'form': form,
    }
    return render(request, 'articles/new.html', context)
```

```python
def create(request):
    form = ArticleForm(request.POST)
    if form.is_valid():
        article = form.save()
        return redirect('articles:detail', article.pk)
    context = {
        'form': form,
    }
    return render(request, 'articles/new.html', context)
```

### ê²°í•©ëœ ì½”ë“œ
- newì™€ create view í•¨ìˆ˜ì˜ ê³µí†µì ê³¼ ì°¨ì´ì ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ë‚˜ì˜ í•¨ìˆ˜ë¡œ ê²°í•©
- ë‘ í•¨ìˆ˜ì˜ ìœ ì¼í•œ ì°¨ì´ì ì´ì—ˆë˜ request methodì— ë”°ë¥¸ ë¶„ê¸°
- POSTì¼ ë•ŒëŠ” ê³¼ê±° create í•¨ìˆ˜ êµ¬ì¡°ì˜€ë˜ ê°ì²´ ìƒì„± ë° ì €ì¥ ë¡œì§ ì²˜ë¦¬ 
- POSTê°€ ì•„ë‹ ë•ŒëŠ” ê³¼ê±° new í•¨ìˆ˜ì—ì„œ ì§„í–‰í–ˆë˜ form ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
- contextì— ë‹´ê¸°ëŠ” formì€
  1. is_vaild()ë¥¼ í†µê³¼í•˜ì§€ ëª»í•´ ì—ëŸ¬ë©”ì‹œì§€ë¥¼ ë‹´ì€ formì´ê±°ë‚˜
  2. elseë¬¸ì„ í†µí•œ form ì¸ìŠ¤í„´ìŠ¤

```python
def create(request):
    if request.method == 'POST':
        form = ArticleForm(request.POST)
        if form.is_valid():
            article = form.save() # model formì„ ì¨ì•¼ë§Œ saveê°€ ê°€ëŠ¥í•¨
            return redirect('articles:detail', article.pk)
    else:
        form = ArticleForm()
    
    context = {
        'form': form,
    }
    return render(request, 'articles/new.html', context)
```

### request methodì— ë”°ë¥¸ ìš”ì²­ì˜ ë³€í™”
(GET) articles/create/ ê²Œì‹œê¸€ í˜ì´ì§€ë¥¼ ì¤˜!
(POST) articles/create/ ê²Œì‹œê¸€ì„ ìƒì„±í•´ì¤˜!


---

## edit & update í•¨ìˆ˜ ê²°í•©

### ìƒˆë¡œìš´ update view í•¨ìˆ˜
- ê¸°ì¡´ editê³¼ update view í•¨ìˆ˜ ê²°í•©

### views.py

```python
# articles/views.py
def update(request, pk):
    article = Article.objects.get(pk=pk)

    if request.method == 'POST':   # update
        form = ArticleForm(request.POST, instance=article)
        if form.is_valid():
            form.save()
            return redirect('articles:detail', article.pk)
    else:   # edit
        form = ArticleForm(instance=article)

    context = {
        'article': article,
        'form': form,
    }
    return render(request, 'articles/update.html', context)
```

---

## ModelFormì˜ í‚¤ì›Œë“œ ì¸ì êµ¬ì„±
### ModelForm í‚¤ì›Œë“œ ì¸ì dataì™€ instance ì‚´í´ë³´ê¸°

- **data**ëŠ” ì²« ë²ˆì§¸ì— ìœ„ì¹˜í•œ í‚¤ì›Œë“œ ì¸ìì´ê¸° ë•Œë¬¸ì— ìƒëµ ê°€ëŠ¥  
- **instance**ëŠ” 9ë²ˆì§¸ì— ìœ„ì¹˜í•œ í‚¤ì›Œë“œ ì¸ìì´ê¸° ë•Œë¬¸ì— ìƒëµí•  ìˆ˜ ì—†ìŒ  

### ModelFormì˜ ìƒìœ„ í´ë˜ìŠ¤ì¸ BaseModelFormì˜ ìƒì„±ì í•¨ìˆ˜ ëª¨ìŠµ

```python
class BaseModelForm(BaseForm):
    def __init__(self, data=None, files=None, auto_id='id_%s', prefix=None,
                 initial=None, error_class=ErrorList, label_suffix=None,
                 empty_permitted=False, instance=None, use_required_attribute=None,
                 renderer=None):
        ...
```

### views.py ì˜ˆì‹œ

```python
# articles/views.py
form = ArticleForm(request.POST, instance=article)
```

---

## Widgets ì‘ìš©
### forms.py

```python
# articles/forms.py

class ArticleForm(forms.ModelForm):
    title = forms.CharField(
        label='ì œëª©',
        widget=forms.TextInput(
            attrs={
                'class': 'my-title',
                'placeholder': 'Enter the title',
            }
        ),
    )

    class Meta:
        model = Article
        fields = '__all__'
```

### forms.py

```python
class ArticleForm(forms.ModelForm):
    title = forms.CharField(
        label='ì œëª©',
        widget=forms.TextInput(
            attrs={
                'class': 'my-title',
                'placeholder': 'Enter the title',
                'maxlength': 10,
            }
        ),
    )

    content = forms.CharField(
        label='ë‚´ìš©',
        widget=forms.Textarea(
            attrs={
                'class': 'my-content',
                'placeholder': 'Enter the content',
                'rows': 5,
                'cols': 50,
            }
        ),
        error_messages={'required': 'ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'},
    )
```

---

## í•„ë“œë¥¼ ìˆ˜ë™ìœ¼ë¡œ ë Œë”ë§

```html
{{ form.non_field_errors }}
<form action="..." method="POST">
  {% csrf_token %}
  
  <div>
    {{ form.title.errors }}
    <label for="{{ form.title.id_for_label }}">Title:</label>
    {{ form.title }}
  </div>

  <div>
    {{ form.content.errors }}
    <label for="{{ form.content.id_for_label }}">Content:</label>
    {{ form.content }}
  </div>

  <input type="submit">
</form>
```

### ì—¬ê¸°ì„œ í•µì‹¬ì€:  
- `{{ form.non_field_errors }}` â†’ íŠ¹ì • í•„ë“œê°€ ì•„ë‹Œ í¼ ì „ì²´ ì—ëŸ¬  
- `{{ form.title.errors }}` â†’ title í•„ë“œ ìœ íš¨ì„± ê²€ì‚¬ ì—ëŸ¬  
- `{{ form.title.id_for_label }}` â†’ title input íƒœê·¸ì™€ ì—°ê²°ë˜ëŠ” labelì˜ `for` ì†ì„±  
- `{{ form.title }}` â†’ ì‹¤ì œ `<input>` íƒœê·¸  

ì¦‰, `{{ form }}` ëŒ€ì‹  **í•„ë“œë¥¼ í•˜ë‚˜í•˜ë‚˜ ìˆ˜ë™ìœ¼ë¡œ ë Œë”ë§**í•˜ë©´ CSS/Bootstrap ë””ìì¸ì„ ììœ ë¡­ê²Œ ì ìš©í•  ìˆ˜ ìˆì–´ìš”.  

