# Graph
## 그래프의 최소 비용 문제
### 최소 비용 신장 트리(MST)
### 대표적인 트리의 종류
- 그래프에서 최소 비용 문제
  - 모든 정점을 연결하는 간선들의 가중치의 합이 최소가 되는 트리를 찾음
  - 두 정점 사이의 비용이 최소인 경로를 찾음

- 신장 트리
  - N개의 정점으로 이루어진 무방향 그래프에서 N개의 정점과 N-1개의 간선으로 이루어진 트리

- 최소 신장 트리(MST, Minium Spanning Tree)
  - 무방향 가중치 그래프에서 신장 트리를 구성하는 간선들의 가중치 합이 최소인 신장 트리

### 그래프의 표현
- 인접 행렬
- 인접리스트

* 원래 0[1, 2, 3, 4] 이런 형태였다면
* 0[(1, 32), (2, 31), (3, 50), (4, 25)]처럼 (도착점, 가중치) 이렇게 저장해줌

* 튜플 vs 리스트
- 가중치는 바뀌지 않기 때문에 튜플이 효율성에서도 훨씬 유리함!
- 바뀌지 않는다면 튜플로 하는 게 조히음

### NST 표현
- 그래프
- 간선들의 배열
- 인접 리스트
- 트리
- 부모 자식 관계와 가중치에 대한 배열

### MST 찾기
- Prim 알고리즘
- Kryskal 알고리즘


* 어떻게 선택하는 게 좋을까? 신장 트리(최소 비용)
  
  1. 작은 가중치부터 (간선) (사이클은 제거)
  => Kruskal

  2. BFS처럼 접근 (정점)
  - 작은 가중치만 (후보들 중 가장 작은 거 고르기) 
  => Prim

  * 정점을 고르는 순서가 다르더라도 반례는 존재하지 않음
  * 현재 하고 있는 것은 각 정점끼리의 거리가 아니라 전체 거리를 말하는 것 
  * 정점끼리 연결하는 것은 => 최단 거리 문제 (정점)
  * 현재는 최소 비용 문제 (전체)

---


1. MST가 무엇인지 이해

2. 알고리즘
  - "정점을 기준"으로 갈 수 있는 것 중 가장 적은 곳으로 먼저 가자 => prim
  - "간선을 기준"으로 가중치가 적은 간선부터 선택 => kruskal

* 그럼 뭘 써야 하나 ? 
  - 간선이 많을 수록 무엇이 더 유리하나 ? (완전 그래프)
    -> prim이 완전 그래프일 수록 유리함

  - 보통은 kruskal만 알아도 괜찮음

---


## Prim 알고리즘
- 하나의 정점에서 연결된 간선들 중에 하나씩 선택하면서 MST를 만들어 가는 방식
  1. 임의 정점을 하나 선택해서 시작
  
  2. 선택한 정점과 인접하는 정점들 중의 최소 비용이 간선들이 존재하는 정점을 선택

  * 가중치가 작은 노드를 먼저 꺼내야 함 => 우선순위 큐 사용해야 함
  -> heapq 사용! 
  -> 삽입, 삭제 : O(log N)

  3. 모든 정점이 선택될 때까지 1, 2 과정을 반복

- 서로소인 2개의 집합 정보를 유지
  - 트리 정점들(tree vertices) - MST를 만들기 위해 선택된 정점들
  - 비트리 정점들(nontree vertices) - 선택되지 않은 정점들


---


## Kruskal 알고리즘
### 간선을 하나씩 선택해서 MST를 찾는 알고리즘
1. 최초, 모든 간선을 가중치에 따라 오름차순으로 정렬
2. 가중치가 가장 낮은 간선부터 선택하면서 트리를 증가시킴
  - 사이클이 존재하면 다음으로 가중치가 낮은 간선 선택
3. n-1개의 간선이 선택될 때까지 2를 반복


---

## 최단 경로
### Dijkstra 알고리즘
### 최단 경로란 ? 
- 간선의 가중치가 있는 그래프에서 **두 정점 사이**의 경로들 중에 간선의 가중치 합이 최소인 경로 (누적비용에 대해서 생각)

### 최단 경로의 종류
1. 하나의 시작 정점에서 끝 정점까지의 최단 경로
  - 다익스트라(dijkstra) 알고리즘 - **음의 가중치를 허용하지 않음**
  - 벨만-포드(Bellman-Ford) 알고리즘 - 음의 가중치 허용

2. 모든 정점들에 대한 최단 경로
  - 플로이드-워샬(Floyd-Warshall) 알고리즘


### Dijkstra 알고리즘
- 시작 정점에서 거리가 최소인 정점을 선택해 나가면서 최단 경로를 구하는 방식
- 시작 정점(s)에서 끝 정점(t)까지의 최단 경로에 정점 x가 존재함
- 이때, 최단 경로는 s에서 x까지의 최단 경로와 x에서 t까지의 최단 경로로 구성됨
- 탐욕 기법을 사용한 알고리즘으로 MST의 Prim 알고리즘과 유사함

