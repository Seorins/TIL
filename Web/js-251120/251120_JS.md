# Javascript
## Controlling event
### ì´ë²¤íŠ¸
### ì›¹ì—ì„œì˜ ì´ë²¤íŠ¸
- í™”ë©´ì„ ìŠ¤í¬ë¡¤í•˜ëŠ” ê²ƒ
- ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ íŒì—… ì°½ì´ ì¶œë ¥ë˜ëŠ” ê²ƒ
- ë§ˆìš°ìŠ¤ ì»¤ì„œì˜ ìœ„ì¹˜ì— ë”°ë¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­í•˜ëŠ” ê²ƒ
- ì‚¬ìš©ìì˜ í‚¤ë³´ë“œ ì…ë ¥ ê°’ì— ë”°ë¼ ìƒˆë¡œìš´ ìš”ì†Œë¥¼ ìƒì„±í•˜ëŠ” ê²ƒ

-> ì›¹ì—ì„œì˜ ê±°ì˜ **ëª¨ë“  ìƒí˜¸ì‘ìš©ì€ ì´ë²¤íŠ¸ì™€ í•¨ê»˜ í•¨**


---


## event
- ì›¹ í˜ì´ì§€ ìƒì—ì„œ **ë¬´ì–¸ê°€ ì¼ì–´ë‚¬ë‹¤ëŠ” ì‹ í˜¸ ë˜ëŠ” ì‚¬ê±´**
- ë§ˆìš°ìŠ¤ ì›€ì§ì„ í•˜ë‚˜í•˜ë‚˜ê°€ ì´ë²¤íŠ¸ê°€ ë  ìˆ˜ ìˆê³ , ì´ëŸ¬í•œ ë‹¤ì–‘í•œ í´ë¦­, ì…ë ¥, ë³€ê²½í•˜ëŠ” í–‰ìœ„ê°€ ì´ë²¤íŠ¸ì— í•´ë‹¹ 

### DOM ìš”ì†Œì™€ ì´ë²¤íŠ¸
- ëª¨ë“  DOM ìš”ì†ŒëŠ” ë‹¤ì–‘í•œ í˜•íƒœì˜ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŒ
- ì˜ˆ) bottomì„ í´ë¦­í•˜ë©´ click ì´ë²¤íŠ¸, input ê°’ ë³€ê²½ ì‹œ input ì´ë²¤íŠ¸, ...


---


## event object
- DOMì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´, ë¸Œë¼ìš°ì €ëŠ” í•´ë‹¹ ì´ë²¤íŠ¸ì— ê´€í•œ ì •ë³´ë¥¼ ë‹´ì€ 'evenvt object'ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±
- ì´ë²¤íŠ¸ ì¢…ë¥˜
  - mouse
  - input
  - keyboard
  - ...

* ì´ë²¤íŠ¸ ê°ì²´ëŠ” ì´ë²¤íŠ¸ ë°œìƒ ìˆœê°„ì˜ ìƒí™©(ì–´ë–¤ ìš”ì†Œì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆëŠ”ì§€, ë§ˆìš°ìŠ¤ ì¢Œíš¨ëŠ” ì–´ë””ì¸ì§€, ëˆŒë¦° í‚¤ëŠ” ë¬´ì—‡ì¸ì§€ ë“±)ê³¼ ê´€ë ¨ëœ ìƒì„¸ ì •ë³´ë¥¼ ë‹´ê³  ìˆìŒ
* https://developer.mozilla.org/en-US/docs/Web/API/Event


**DOM ìš”ì†Œì—ì„œ eventê°€ ë°œìƒí•˜ë©´, í•´ë‹¹ eventëŠ” ì—°ê²°ëœ ì´ë²¤íŠ¸ ì²˜ë¦¬ê¸°(event handler)ì— ì˜í•´ ì²˜ë¦¬ë¨**


---


## event handler
- íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” (ì½œë°±)í•¨ìˆ˜

* ë³´í†µ addEventListenerë¥¼ í†µí•´ DOM ìš”ì†Œì— event handleë¥¼ ë“±ë¡ 


### .addEventListener()
- íŠ¹ì • DOM ìš”ì†Œì—, ì§€ì •í•œ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì‹¤í–‰í•  ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ **ë“±ë¡í•˜ëŠ” ë©”ì„œë“œ**
 
 * ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬(ì½œë°± í•¨ìˆ˜)ë¥¼ DOM ìš”ì†Œì— ì—°ê²°í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹


 ### .addEventListener() ì˜ˆì‹œ
 - handleClick í•¨ìˆ˜ê°€ **ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬**ì´ë©°, button.addEventListener()ëŠ” ê·¸ í•¸ë“¤ëŸ¬ë¥¼ click ì´ë²¤íŠ¸ì— ì—°ê²°í•´ì£¼ëŠ” ì—­í•  

 ```js
 const button = document.querySelector('button')

// ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
const handleClick = function () {
  window.alert('ë²„íŠ¼ì´ í´ë¦­ ë˜ì—ˆìŠµë‹ˆë‹¤!')
}

// addEventListener ë©”ì„œë“œë¥¼ ì´ìš©í•´ ë²„íŠ¼ì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡
button.addEventListener('click', handleClick)
 ```


 ### ì´ë²¤íŠ¸ ë“±ë¡(addEventListener)
 - **DOM ìš”ì†Œ**: HTML ë¬¸ì„œì˜ ê° íƒœê·¸ë¥¼ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ë³€í™˜í•œ ê²ƒ
 - **ìˆ˜ì‹ í•  ì´ë²¤íŠ¸**: ë¬´ì–¸ê°€ ì¼ì–´ë‚¬ë‹¤ëŠ” ì‹ í˜¸ ë˜ëŠ” ì‚¬ê±´
 - **í•¸ë“¤ëŸ¬**: íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” (ì½œë°±)í•¨ìˆ˜

 `EventTarget.addEventListener(type, hadler)`

 * EventTarget => DOMìš”ì†Œ 
 * addEventListener => ë¦¬ìŠ¤ë„ˆ
 * type => ìˆ˜ì‹ í•  ì´ë²¤íŠ¸
 * handler => í•¸ë“¤ëŸ¬


 ### addEventListener êµ¬ì¡°
 - ë©”ì„œë“œ êµ¬ë¬¸
  - `.addEventListener(type, handler)`

- type
  - ìˆ˜ì‹ í•  ì´ë²¤íŠ¸ ìœ í˜•
  - ë¬¸ìì—´ë¡œ ì‘ì„±(ex. 'click', 'mouseover' ë“±)

- handler
  - ì´ë²¤íŠ¸ ë°œìƒ ì‹œ í˜¸ì¶œë˜ëŠ” ì½œë°± í•¨ìˆ˜
  - ìë™ìœ¼ë¡œ event ê°ì²´ë¥¼ ì²«ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ìŒ
  - ë°˜í™˜ ê°’ ì—†ìŒ

```js
element.addEventListener('click', function(event){
  // ì´ë²¤íŠ¸ ì²˜ë¦¬ ë¡œì§ 
})
```


### ì´ë²¤íŠ¸ ê°ì²´ ì „ë‹¬
- ì´ë²¤íŠ¸ ë°œìƒ ì‹œ, ì´ë²¤íŠ¸ ê°ì²´ëŠ” ìë™ìœ¼ë¡œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ì— ì¸ìë¡œ ì „ë‹¬ë¨
- í•¸ë“¤ëŸ¬ í•¨ìˆ˜ëŠ” ì´ ì¸ìë¥¼ í†µí•´ ì´ë²¤íŠ¸ì— ëŒ€í•œ ìƒì„¸ ì •ë³´(ì´ë²¤íŠ¸ ë°œìƒ ìš”ì†Œ, ì´ë²¤íŠ¸ íƒ€ì…, ì¶”ê°€ ë°ì´í„° ë“±)ì— ì ‘ê·¼í•˜ê³  ì ì ˆí•œ ë™ì‘ì„ ìˆ˜í–‰

```html
<button id='btn'>ë²„íŠ¼</button>
```

```js
// 1. ë²„íŠ¼ ìš”ì†Œ ì„ íƒ
const btn = document.querySelector('#btn')

// 2. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
const detectClick = function(event){
  console.log(event) // PointerEvent
  console.log(evnet.type) // click
}

// 3. ë²„íŠ¼ì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡
btn.addEventListener('click', detectClick)
```


### ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œì˜ this 
- ì¼ë°˜ í•¨ìˆ˜ë¥¼ í•¸ë“¤ëŸ¬ë¡œ ì‚¬ìš© ì‹œ , thisëŠ” ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ì—°ê²°ëœ ìš”ì†Œë¥¼ ê°€ë¦¬í‚´ 
(event ê°ì²´ì˜ currentTarget ì†ì„± ê°’ê³¼ ë™ì¼)

```html
<button id='btn'>ë²„íŠ¼</button>
```

```js
// 1. ë²„íŠ¼ ìš”ì†Œ ì„ íƒ
const btn = document.querySelector('#btn')

// 2. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
const detectClick = function(event){
  console.log(event.currentTarget) // <button id='btn'>ë²„íŠ¼</button>
  console.log(this) // <button id='btn'>ë²„íŠ¼</button>
}

// 3. ë²„íŠ¼ì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡
btn.addEventListener('click', detectClick)
```


---


## ë²„ë¸”ë§ 
### ë²„ë¸”ë§ ê°œìš”(1/2)
- form > div > p í˜•íƒœì˜ ì¤‘ì²©ëœ êµ¬ì¡°ì— ê°ê° ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì—°ê²°ë˜ì–´ ìˆì„ ë•Œ, ë§Œì•½ <p> ìš”ì†Œë¥¼ í´ë¦­í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?

```html
<form id="form">
  form
  <div id="div">
    div
    <p id="p">p</p>
  </div>
</form>
```

```javascript
const formElement = document.querySelector('#form')
const divElement = document.querySelector('#div')
const pElement = document.querySelector('#p')

const clickHandler1 = function (event) {
  console.log('formì´ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤.')
}

const clickHandler2 = function (event) {
  console.log('divê°€ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤.')
}

const clickHandler3 = function (event) {
  console.log('pê°€ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤.')
}

formElement.addEventListener('click', clickHandler1)
divElement.addEventListener('click', clickHandler2)
pElement.addEventListener('click', clickHandler3)
```


### ë²„ë¸”ë§ ê°œìš” (2/2)

- **<p> ìš”ì†Œë§Œ í´ë¦­í–ˆëŠ”ë°ë„ ë¶ˆêµ¬í•˜ê³  ëª¨ë“  í•¸ë“¤ëŸ¬ê°€ ë™ì‘í•¨**
- ì™œ pë§Œì„ í´ë¦­í–ˆëŠ”ë° ë¶€ëª¨ ìš”ì†Œ <div>ì™€ <form>ì— í• ë‹¹ëœ í•¸ë“¤ëŸ¬ê¹Œì§€ ë™ì‘í• ê¹Œ?

```
pê°€ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤.
divê°€ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤.
formì´ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤.
```


### ë²„ë¸”ë§ (Bubbling)

* **í•œ ìš”ì†Œì— ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´**, í•´ë‹¹ ìš”ì†Œì˜ í•¸ë“¤ëŸ¬ê°€ ë™ì‘í•œ í›„ ì´ì–´ì„œ **ë¶€ëª¨ ìš”ì†Œì˜ í•¸ë“¤ëŸ¬ê°€ ë™ì‘í•˜ëŠ” í˜„ìƒ**
* ê°€ì¥ ìµœìƒë‹¨ì˜ ì¡°ìƒ ìš”ì†Œ(document)ë¥¼ ë§Œë‚  ë•Œê¹Œì§€ ì´ ê³¼ì •ì´ ë°˜ë³µë˜ë©´ì„œ **ìš”ì†Œ ê°ê°ì— í• ë‹¹ëœ í•¸ë“¤ëŸ¬ê°€ ë™ì‘**

```
pê°€ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤.
divê°€ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤.
formì´ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤.
```

-> ìµœí•˜ìœ„ì˜ <p> ìš”ì†Œë¥¼ í´ë¦­í•˜ë©´ p â†’ div â†’ form ìˆœì„œë¡œ 3ê°œì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ëª¨ë‘ ìˆœì°¨ì ìœ¼ë¡œ ë™ì‘í–ˆë˜ ê²ƒ


* ì´ë²¤íŠ¸ê°€ ì œì¼ ê¹Šì€ ê³³ì— ìˆëŠ” ìš”ì†Œì—ì„œ ì‹œì‘í•´ ë¶€ëª¨ ìš”ì†Œë¥¼ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ë©° ë°œìƒí•˜ëŠ” ê²ƒì´ ë§ˆì¹˜ ë¬¼ì† ê±°í’ˆê³¼ ë‹®ì•˜ë‹¤ê³  í•´ì„œ ë²„ë¸”ë§ì´ë¼ê³  í•¨


### ì´ë²¤íŠ¸ê°€ ì •í™•íˆ ì–´ë””ì„œ ë°œìƒí–ˆëŠ”ì§€ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë°©ë²•

1. event.**currentTarget**
  - 'í˜„ì¬' ìš”ì†Œ
  - í•­ìƒ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì—°ê²°ëœ ìš”ì†Œë§Œì„ ì°¸ì¡°í•˜ëŠ” ì†ì„±
  - 'this'ì™€ ê°™ìŒ

2. evnet.**target**
  - ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ê°€ì¥ ì•ˆìª½ì˜ ìš”ì†Œ(target)ë¥¼ ì°¸ì¡°í•˜ëŠ” ì†ì„£
  - ì‹¤ì œ ì´ë²¤íŠ¸ê°€ ì‹œì‘ëœ ìš”ì†Œ
  - ë²„ë¸”ë§ì´ ì§„í–‰ë˜ì–´ë„ ë³€í•˜ì§€ ì•ŠìŒ


### â€˜targetâ€™ & â€˜currentTargetâ€™ ì˜ˆì‹œ (1/3)

- ì„¸ ìš”ì†Œ ì¤‘ ê°€ì¥ ìµœìƒìœ„ ìš”ì†Œì¸ **outerouter ìš”ì†Œ**ì—ë§Œ í•¸ë“¤ëŸ¬ê°€ ì—°ê²°
- ê° ìš”ì†Œë¥¼ í´ë¦­í–ˆì„ ë•Œ eventì˜ targetê³¼ currentTargetì˜ ì°¨ì´ ë¹„êµ

```
currentTarget: outerouter
target: inner

currentTarget: outerouter
target: outer

currentTarget: outerouter
target: outerouter
```

(outerouter(ì´ˆë¡) â†’ outer(í•‘í¬) â†’ inner(íŒŒë‘) ë°•ìŠ¤ êµ¬ì¡°)


### â€˜targetâ€™ & â€˜currentTargetâ€™ ì˜ˆì‹œ (2/3)

- í•¸ë“¤ëŸ¬ëŠ” outerouterì—ë§Œ ì—°ê²°ë˜ì–´ ìˆì§€ë§Œ, í•˜ìœ„ ìš”ì†Œ outerì™€ innerë¥¼ í´ë¦­í•´ë„ í•´ë‹¹ í•¸ë“¤ëŸ¬ê°€ ë™ì‘í•¨
- í´ë¦­ ì´ë²¤íŠ¸ê°€ ì–´ë””ì„œ ë°œìƒí–ˆë“  ìƒê´€ì—†ì´ outerouterê¹Œì§€ ì´ë²¤íŠ¸ê°€ ë²„ë¸”ë§ ë˜ì–´ í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰ì‹œí‚¤ê¸° ë•Œë¬¸


### â€˜targetâ€™ & â€˜currentTargetâ€™ ì˜ˆì‹œ (3/3)

```css
 #outerouter {
      width: 300px;
      height: 300px;
      background-color: yellowgreen;
    }

    #outer {
      width: 200px;
      height: 200px;
      background-color: crimson;
    }

    #inner {
      width: 100px;
      height: 100px;
      background-color: skyblue;
    }
```

```html
<div id="outerouter">
    outerouter 
    <div id="outer">
      outer
      <div id="inner">inner</div>
    </div>
  </div>

  <script>
    const outerOuterElement = document.querySelector('#outerouter')

    const clickHandler = function (event) {
      console.log('currentTarget:', event.currentTarget.id)
      console.log('target:', event.target.id)
    }

    outerOuterElement.addEventListener('click', clickHandler)
  </script>
```


---


## ìº¡ì²˜ë§ê³¼ ë²„ë¸”ë§
### ìº¡ì²˜ë§(capturing)
- ì´ë²¤íŠ¸ê°€ ìµœìƒìœ„ ì¡°ìƒì—ì„œ íƒ€ê²Ÿ ìš”ì†Œê¹Œì§€ í•˜ìœ„ë¡œ ì „íŒŒë˜ëŠ” ë‹¨ê³„ (ë²„ë¸”ë§ê³¼ ë°˜ëŒ€)
- tableì˜ í•˜ìœ„ ìš”ì†Œ tdë¥¼ í´ë¦­í•˜ë©´, ì´ë²¤íŠ¸ëŠ” ë¨¼ì € **ìµœìƒìœ„ ìš”ì†Œë¶€í„° ì•„ë˜ë¡œ ì „íŒŒ**ë¨(ìº¡ì²˜ë§)
- ì‹¤ì œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ì§€ì (event.target)ì—ì„œ ì‹¤í–‰ëœ í›„ **ë‹¤ì‹œ ìœ„ë¡œ ì „íŒŒ**(ë²„ë¸”ë§)

* ìº¡ì²˜ë§ì€ ì‹¤ì œ ê°œë°œìê°€ ë‹¤ë£¨ëŠ” ê²½ìš°ê°€ ê±°ì˜ ì—†ìŒ


---


## ë²„ë¸”ë§ì˜ í•„ìš”ì„±
### ë²„ë¸”ë§ì´ í•„ìš”í•œ ì´ìœ (1/2)

- ë§Œì•½ ë‹¤ìŒê³¼ ê°™ì´ ê°ì ë‹¤ë¥¸ ë™ì‘ì„ ìˆ˜í–‰í•˜ëŠ” ë²„íŠ¼ì´ ì—¬ëŸ¬ ê°œê°€ ìˆë‹¤ê³  ê°€ì •í•˜ë©´, ê° ë²„íŠ¼ë§ˆë‹¤ ì„œë¡œ ë‹¤ë¥¸ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡í•´ì•¼ í• ê¹Œ?

-> **ê° ë²„íŠ¼ì˜ ê³µí†µ ì¡°ìƒì¸ div ìš”ì†Œì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë‹¨ í•˜ë‚˜ë§Œ í• ë‹¹í•˜ê¸°**

```html
<div>
  <button></button>
  <button></button>
  ...
  <button></button>
  <button></button>
</div>
```


ì•„ë˜ëŠ” ì´ë¯¸ì§€ ë‚´ìš©ì„ **ê·¸ëŒ€ë¡œ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜í•œ ê²ƒ**ì…ë‹ˆë‹¤!

---

## ğŸ“Œ í…ìŠ¤íŠ¸ ë³€í™˜ë³¸

### ë²„ë¸”ë§ì´ í•„ìš”í•œ ì´ìœ  (2/2)

* **ìš”ì†Œë“¤ì˜ ê³µí†µ ì¡°ìƒì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ í•˜ë‚˜ë§Œ ë“±ë¡í•˜ë©´**, ì—¬ëŸ¬ ìì‹ ìš”ì†Œì—ì„œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ í•œê³³ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ë‹¤ë£° ìˆ˜ ìˆìŒ

* **ê³µí†µ ì¡°ìƒ(div)ì— í• ë‹¹í•œ í•¸ë“¤ëŸ¬ì—ì„œ `event.target`ì„ ì´ìš©í•˜ë©´ ì‹¤ì œ ì–´ë–¤ ë²„íŠ¼ì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆê¸° ë•Œë¬¸**

```
<div>
  <button></button>
  <button></button>
  ...
  <button></button>
  <button></button>
</div>
```

```javascript
// ì˜ˆì‹œ
const divTag = document.querySelector('div')

divTag.addEventListener('click', function (event) {
  console.log(event.target)
})
```


### ë²„ë¸”ë§ì´ í•„ìš”í•œ ì´ìœ  (2/2)

- **ìš”ì†Œë“¤ì˜ ê³µí†µ ì¡°ìƒì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ í•˜ë‚˜ë§Œ ë“±ë¡í•˜ë©´**, ì—¬ëŸ¬ ìì‹ ìš”ì†Œì—ì„œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ í•œê³³ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ë‹¤ë£° ìˆ˜ ìˆìŒ

- ê³µí†µ ì¡°ìƒ(div)ì— í• ë‹¹í•œ í•¸ë“¤ëŸ¬ì—ì„œ `event.target`ì„ ì´ìš©í•˜ë©´ ì‹¤ì œ ì–´ë–¤ ë²„íŠ¼ì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆê¸° ë•Œë¬¸

```html
<div>
  <button></button>
  <button></button>
  ...
  <button></button>
  <button></button>
</div>
```

```javascript
// ì˜ˆì‹œ
const divTag = document.querySelector('div')

divTag.addEventListener('click', function (event) {
  console.log(event.target)
})
```


--- 


## event handler í™œìš© 
### evnet hadler í™œìš© ì‹¤ìŠµ ëª©ë¡
1. ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ìˆ«ìë¥¼ 1ì”© ì¦ê°€í•´ì„œ ì¶œë ¥í•˜ê¸°
2. ì‚¬ìš©ì ì…ë ¥ ê°’ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¶œë ¥í•˜ê¸°
3. ì‚¬ìš©ì ì…ë ¥ ê°’ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¶œë ¥í•˜ê¸° + ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì¶œë ¥ëœ ê°’ì˜ CSS ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•˜ê¸° 
4. todo í”„ë¡œê·¸ë¨ êµ¬í˜„
5. ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸° êµ¬í˜„ 


### 1. click ì´ë²¤íŠ¸ ì‹¤ìŠµ
- ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ìˆ«ìë¥¼ 1ì”© ì¦ê°€

```js
// 1. ë²„íŠ¼ í´ë¦­ íšŸìˆ˜ ì´ˆê¸°ê°’ ì„¤ì • 
let cnt = 0

// 2. ë²„íŠ¼ ìš”ì†Œ ì„ íƒ
const btn = document.querySelector('#btn')

// 3. ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬(ì½œë°± í•¨ìˆ˜) ì‘ì„± - ë²„íŠ¼ í´ë¦­ ì‹œ ë°œìƒí•  ì´ë²¤íŠ¸      
const clickHandler = function(){
  // 3.1 ë²„íŠ¼ í´ë¦­ íšŸìˆ˜ +1
  cnt += 1
  // 3.2 í´ë¦­ íšŸìˆ˜ë¥¼ ë³´ì—¬ì£¼ëŠ” íƒœê·¸ ì„ íƒ
  const spanTag = document.querySelector('#counter')
  // 3.3 íƒœê·¸ì˜ ì½˜í…ì¸ ë¥¼ +1 ëœ ë²„íŠ¼ í´ë¦­ íšŸìˆ˜ë¡œ ë³€ê²½
  spanTag.textContent = cnt
}

// 4. ë²„íŠ¼ì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡
btn.addEventListener('click', clickHandler)
```


### 2. input ì´ë²¤íŠ¸ ì‹¤ìŠµ
- ì‚¬ìš©ìì˜ ì…ë ¥ ê°’ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¶œë ¥í•˜ê¸° 

```js
// 1. input ìš”ì†Œ ì„ íƒí•˜ê¸°
const inputTag = document.querySelector('#text-input')
  
// 2. ì…ë ¥ ê°’ì„ ì¶œë ¥í•  íƒœê·¸ ì„ íƒí•˜ê¸°
const pTag = document.querySelector('p')

// 3. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì‘ì„±
const inputHandler = function(event){
  // 3.1 ì‘ì„±í•˜ê³  ìˆëŠ” ê°’ ê°€ì ¸ì˜¤ê¸° 
  console.log(event.currentTarget.value)
  // 3.2 ì‘ì„±í•œ ê°’ì„ ì¶œë ¥í•˜ê¸° 
  pTag.textContent = event.currentTarget.value
}

// 4. input ìš”ì†Œì— í•¸ë“¤ëŸ¬ ì—°ê²°í•˜ê¸° 
inputTag.addEventListener('input', inputHandler)
```


### 'currentTarget' ì£¼ì˜ì‚¬í•­
- console.log()ë¡œ event ê°ì²´ë¥¼ ì¶œë ¥í•  ê²½ìš°, currentTarget í‚¤ì˜ ê°’ì€ nullì„ ê°€ì§
- currentTargetì€ ì´ë²¤íŠ¸ê°€ ì²˜ë¦¬ë˜ëŠ” ë™ì•ˆì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸
- ëŒ€ì‹  console.log(event.currentTarget)ë¡œ í™•ì¸ ê°€ëŠ¥
- currentTarget ì´í›„ì˜ ì†ì„± ê°’ë“¤ì€ **'target'ì„ ì°¸ê³ í•´ì„œ ì‚¬ìš©í•˜ê¸°**


### 3. click & input ì´ë²¤íŠ¸ ì‹¤ìŠµ
- ì…ë ¥ ê°’ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¶œë ¥í•˜ê³  í´ë¦­ ë²„íŠ¼ í´ë¦­ ì‹œ ì¶œë ¥ ê°’ì˜ CSS ë³€ê²½í•˜ê¸° 

```js
// 1. ì…ë ¥ ì´ë²¤íŠ¸ ì‘ì„±í•˜ê¸°
const btn = document.querySelector('#btn')
const inputTag = document.querySelector('#text-input')
const h1Tag = document.querySelector('h1')

const inputHandler = function(event){
  h1Tag.textContent = event.currentTarget.value
}

inputTag.addEventListener('input', inputHandler)

// 2. í´ë¦­ ë²„íŠ¼ ì´ë²¤íŠ¸ ì‘ì„±í•˜ê¸°

const btnHandler = function(evnet){
  h1Tag.classList.toggle('blue')
}

btn.addEventListener('click', btnHandler)
```


### 4. todo ì‹¤ìŠµ
- ì…ë ¥ í›„ '+' ë²„íŠ¼ í´ë¦­ ì‹œ, ì‹¤ì‹œê°„ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ì— ì¶œë ¥ 
- ì¶”ê°€ ê¸°ëŠ¥ êµ¬í˜„
  1. ë¹ˆ ë¬¸ìì—´ ì…ë ¥ ë°©ì§€
  2. ì…ë ¥ì´ ì—†ì„ ê²½ìš° ê²½ê³  ëŒ€í™”ìƒìë¥¼ ë„ì›€
  
```js
const inputTag = document.querySelector('.input-text')
const btn = document.querySelector('#btn')
const ulTag = document.querySelector('ul')

const clickHandler = function(event){
  const data = inputTag.value

  if (data.trim()){
    const liTag = document.createElement('li')
    liTag.textContent = data

    ulTag.appendChild(liTag)
    
    inputTag.value = ''
  }

  else{
    alert('í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”.')
  }
}

btn.addEventListener('click', clickHandler)
```


### 5. ë¡œë„ ë²ˆí˜¸ ìƒì„±ê¸° ì‹¤ìŠµ
- 'í–‰ìš´ ë²ˆí˜¸ ë°›ê¸° ' ë²„íŠ¼ í´ë¦­ ì‹œ, 6ìë¦¬ ëœë¤ ìˆ«ìê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ì— ì¶œë ¥

```js
// _.range(1, 46): 1ë¶€í„° 45ê¹Œì§€ì˜ ë°°ì—´ ìƒì„±
// _.sampleSize(numbers, 6): 45ê°œì˜ ë¦¬ìŠ¤íŠ¸ì—ì„œ 6ê°œ ë²ˆí˜¸ ì¶”ì¶œ 

// 1. í•„ìš”í•œ ìš”ì†Œ ì„ íƒ
const h1Tag = document.querySelector('h1')
const btn = document.querySelector('#btn')
const divTag = document.querySelector('div')

// 2. ë¡œë˜ ë²ˆí˜¸ë¥¼ í™”ë©´ì— ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜ (ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬)
const getLottery = function(event){
  const numbers = _.range(1, 46) 
  const sixnumvers = _.sampleSize(numbers, 6)
  const ulTag = document.createElement('ul')

  sixnumvers.forEach(number => {
    const liTag = document.createElement('li')
    liTag.textContent = number  

    ulTag.appendChild(liTag)
  });
  divTag.appendChild(ulTag)
}

// 3. ë²„íŠ¼ ìš”ì†Œì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë“±ë¡
btn.addEventListener('click', getLottery)
```


### lodash
- ëª¨ë“ˆì„±, ì„±ëŠ¥ ë° ì¶”ê°€ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” JavaScript ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ 
- array/object ë“± ìë£Œêµ¬ì¡°ë¥¼ ë‹¤ë£° ë•Œ, ê°„í¸í•˜ê³  ìœ ìš©í•œ í•¨ìˆ˜ë“¤ì„ ì œê³µ
- https://lodash.com/


---


## ì´ë²¤íŠ¸ ê¸°ë³¸ ë™ì‘ ìµœì†Œí•˜ê¸° 
- HTMLì˜ ê° ìš”ì†Œê°€ ê¸°ë³¸ì ìœ¼ë¡œ ê°€ì§€ê³  ìˆëŠ” ì´ë²¤íŠ¸ê°€ ë•Œë¡œëŠ” ë°©í•´ê°€ ë˜ëŠ” ê²½ìš°ê°€ ìˆì–´ ì´ë²¤íŠ¸ì˜ ê¸°ë³¸ ë™ì‘ì„ ì·¨ì†Œí•  í•„ìš”ê°€ ìˆìŒ
- ì˜ˆì‹œ 
  -  fom ìš”ì†Œì˜ ì œì¶œ ì´ë²¤íŠ¸ë¥¼ ì·¨ì†Œí•˜ì—¬ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ì„ ë§‰ì„ ìˆ˜ ìˆìŒ
  - <a> íƒœê·¸ë¥¼ í´ë¦­í–ˆì„ ë•Œ í˜ì´ì§€ ì´ë™ì„ ë§‰ê³ , ëŒ€ì‹  ë‹¤ë¥¸ ë¡œì§ì„ ìˆ˜í–‰í•˜ê²Œ í•  ìˆ˜ ìˆìŒ 


### preventDefault

`.preventDefault()`

- í•´ë‹¹ ì´ë²¤íŠ¸ì— ëŒ€í•œ ê¸°ë³¸ ë™ì‘ì„ ì‹¤í–‰í•˜ì§€ ì•Šë„ë¡ ì§€ì •
- ì…ë ¥í•œ ì •ë³´ê°€ ì´ˆê¸°í™”ë˜ëŠ” ì‹¤ìˆ˜ë¥¼ ë§‰ì•„ì£¼ê¸° ìœ„í•´ ì‚¬ìš©í•œ ê¸°ëŠ¥ì´ preventDefault


### ì´ë²¤íŠ¸ ë™ì‘ ì·¨ì†Œ ì‹¤ìŠµ ëª©ë¡
1. copy ì´ë²¤íŠ¸ ë™ì‘ ì·¨ì†Œ
2. form ì œì¶œ ì‹œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ë™ì‘ ì·¨ì†Œ 


### 1. copy ì´ë²¤íŠ¸ ë™ì‘ ì·¨ì†Œ 
- ë³µì‚¬ ì´ë²¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì§€ ëª»í•˜ë„ë¡ í•˜ê¸°
(ì½˜í…ì¸ ë¥¼ ë³µì‚¬ í•˜ëŠ” ê²ƒì„ ë°©ì§€)

```js
// ë³µì‚¬ ì´ë²¤íŠ¸ ê¸ˆì§€ 
const h1Tag = document.querySelector('h1')

h1Tag.addEventListener('copy', function (event) {
  console.log(event)
  event.preventDefault()
  alert('ë³µì‚¬ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')
})
```


### 2. form ì œì¶œ ì‹œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ë™ì‘ ì·¨ì†Œ
- form ìš”ì†Œì˜ submit ë™ì‘(action ê°’ìœ¼ë¡œ ìš”ì²­)ì„ ì·¨ì†Œ ì‹œí‚´
- ì‹¤ìŠµ ì‹œ submit ë²„íŠ¼ì„ ëˆŒëŸ¬ë„ ìƒˆë¡œê³ ì¹¨ì´ ì•ˆë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ

```js
// í¼ ì œì¶œ ì‹œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ë™ì‘ ì·¨ì†Œ 
const formTag = document.querySelector('#my-form')

const handleSubmit = function (event) {
event.preventDefault()
}

formTag.addEventListener('submit', handleSubmit)
```


----


## addEventListenerì™€ í™”ì‚´í‘œ í•¨ìˆ˜ ê´€ê³„
### addEventListenerì—ì„œì˜ í™”ì‚´í‘œ í•¨ìˆ˜ ì£¼ì˜ì‚¬í•­
- í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ìì‹ ë§Œì˜ thisë¥¼ ê°€ì§€ì§€ ì•ŠìŒ
- ëŒ€ì‹ , ìì‹ ì´ ì„ ì–¸ëœ ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisë¥¼ ê·¸ëŒ€ë¡œ ë¬¼ë ¤ë°›ì•„ ì‚¬ìš©
- ë”°ë¼ì„œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¡œ í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´, thisëŠ” ëŒ€ë¶€ë¶„ ì „ì—­ ê°ì²´(window)ë¥¼ ê°€ë¦¬í‚¤ê²Œ ë¨
- í•´ê²°ì±… 
  - ì¼ë°˜ í•¨ìˆ˜ë¡œ ì‚¬ìš©í•˜ê¸°
  - í™”ì‚´í‘œ í•¨ìˆ˜ì¸ ê²½ìš° event.currentTargetì„ ì‚¬ìš©í•˜ê¸° 

```js
element.addEventListener('click', function(){
  console.log(this) // <button id = 'function'>function</button>
})

element.addEventListener('click', () => {
  console.log(this) // window
})
```